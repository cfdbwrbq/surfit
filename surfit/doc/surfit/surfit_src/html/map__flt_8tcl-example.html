<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=windows-1251">
<title>surfit documentation</title>
<link href="surfit.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.9.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>map_flt.tcl</h1>This example shows how one goes from randomly spaced data points to an evenly sampled surface with taking fault lines into account. In this sample we have 11 scattered data points to interpolate (file <code>surfit/examples/test/11points.txt</code>) and 4 fault lines, which divide surface domain into 4 subdomains. The main idea of taking fault lines into account is that these lines should split total surface domain into 4 independent subdomains: each subdomain must have no influence to other subdomains. In practical use fault lines may not divide into subdomains. Then domain consistency will be broken trough the fault lines.<p>
<div align="center">
<img src="../../../gallery/maps/map_flt.gif" alt="map_flt.gif" alt="surfit logo" border="0">
</div>
<p>
This is how it is done (file <code>"surfit/examples/test/map_flt.tcl"</code>) and some comments to script: <ul>
<li><a class="el" href="group__surfit__variables.html#ga8">map_name</a> variable used to set name of resulting surface </li>
<li>we use <a class="el" href="group__surfit__variables.html#ga1">tol</a> variable to manage tolerance of iterative linear system solver algorithm. If this value is too big, iterative algorithm will make low number of iterations. It leads to rought result. </li>
<li><a class="el" href="group__tcl__grid__save__load.html#ga2">grid_unload</a> function call to remove grid from result file.</li>
</ul>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#</span>
<span class="preprocessor"></span>load libsurfit[info sharedlibextension]

<span class="preprocessor"># resulting surface must have name "map_flt"</span>
<span class="preprocessor"></span>set <a class="code" href="group__surfit__variables.html#ga8">map_name</a> map_flt

<span class="preprocessor"># reading scattered data points for interpolation from 3-column text files </span>
<span class="preprocessor"></span><a class="code" href="group__tcl__task__save__load.html#ga1">task_read</a> 11points.txt 11points

<span class="preprocessor"># reading fault lines from 2-column text files</span>
<span class="preprocessor"></span><a class="code" href="group__tcl__flts.html#ga2">flts_read</a> flt_line1.txt flt1
<a class="code" href="group__tcl__flts.html#ga2">flts_read</a> flt_line2.txt flt2
<a class="code" href="group__tcl__flts.html#ga2">flts_read</a> flt_line3.txt flt3
<a class="code" href="group__tcl__flts.html#ga2">flts_read</a> flt_line4.txt flt4

<span class="preprocessor">## fast calculation settings </span>
<span class="preprocessor"></span>set <a class="code" href="group__surfit__variables.html#ga1">tol</a> 1e-5

<span class="preprocessor">## "cool result" calculation settings </span>
<span class="preprocessor"></span><span class="preprocessor"># set tol 1e-6</span>
<span class="preprocessor"></span>
<span class="preprocessor"># setting surface behaviour between scattered data points</span>
<span class="preprocessor"></span><a class="code" href="group__tcl__completer.html#ga0">completer_set</a> 0.5 2

<span class="preprocessor"># constructing surfit_grid</span>
<span class="preprocessor"></span><a class="code" href="group__tcl__grid__create.html#ga2">grid_get</a> 1 99 1 -50 50 1

<span class="preprocessor"># running CMOFS algorithm</span>
<span class="preprocessor"></span><a class="code" href="group__tcl.html#ga2">solve</a>

<span class="preprocessor"># unloading surfit_grid from memory</span>
<span class="preprocessor"></span><a class="code" href="group__tcl__grid__save__load.html#ga2">grid_unload</a>

<span class="preprocessor"># saving results to binary ROFF file</span>
<span class="preprocessor"></span><a class="code" href="group__tcl__file.html#ga2">file_save</a> map_flt.dat
</pre></div> <P align="center">
<BR>
<TT>surfit-1.0.0pre</TT>
<BR>
</P>

